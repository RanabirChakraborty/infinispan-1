<config xmlns="urn:org:jgroups" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="urn:org:jgroups file:schema/JGroups-3.4.xsd">

	<TCP bind_addr="{{ jdg.jgroups_bind_addr }}" bind_port="{{ jdg.jgroups_port }}"
		port_range="30" recv_buf_size="20000000" send_buf_size="640000"
		max_bundle_size="64000"
		sock_conn_timeout="300" enable_diagnostics="false"
		thread_pool.enabled="true" thread_pool.min_threads="2"
		thread_pool.max_threads="30" thread_pool.keep_alive_time="5000" />

    <JDBC_PING connection_url="jdg_jgroups_jdbc.mariadb.connection_url"
		connection_username="jdg_jgroups_jdbc.mariadb.db_user"
		connection_password="jdg_jgroups_jdbc.mariadb.db_password"
		connection_driver="jdg_jgroups_jdbc.mariadb.driver_class"
		initialize_sql="CREATE TABLE IF NOT EXISTS JGROUPSPING (
                        own_addr varchar(200) NOT NULL,
                        cluster_name varchar(200) NOT NULL,
                        updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
                        ping_data varbinary(5000) DEFAULT NULL,
                        PRIMARY KEY (own_addr, cluster_name))
                        ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin"
		insert_single_sql="INSERT INTO JGROUPSPING (own_addr, cluster_name, ping_data) values (?, ?, ?)"
		delete_single_sql="DELETE FROM JGROUPSPING WHERE own_addr=? AND cluster_name=?"
		select_all_pingdata_sql="SELECT ping_data FROM JGROUPSPING WHERE cluster_name=?" />
    <MERGE3 max_interval="30000" min_interval="10000" />
    <FD_SOCK />
    <FD_ALL timeout="15000" />
    <VERIFY_SUSPECT timeout="5000" />
    <pbcast.NAKACK2 />
    <UNICAST3 />
    <pbcast.STABLE stability_delay="500" max_bytes="1m" />
    <pbcast.GMS join_timeout="30000" />
    <MFC max_credits="200k" min_threshold="0.20" />
    <FRAG2 frag_size="8000" />
    <RSVP timeout="60000" resend_interval="500" ack_on_delivery="true" />
</config>
